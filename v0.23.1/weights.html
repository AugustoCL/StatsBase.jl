<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Weight Vectors · StatsBase.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="StatsBase.jl logo"/></a><h1>StatsBase.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">StatsBase.jl Documentation</a></li><li class="current"><a class="toctext" href="weights.html">Weight Vectors</a><ul class="internal"><li><a class="toctext" href="#Implementations-1">Implementations</a></li><li><a class="toctext" href="#Methods-1">Methods</a></li></ul></li><li><a class="toctext" href="means.html">Mean Functions</a></li><li><a class="toctext" href="scalarstats.html">Scalar Statistics</a></li><li><a class="toctext" href="robust.html">Robust Statistics</a></li><li><a class="toctext" href="deviation.html">Computing Deviations</a></li><li><a class="toctext" href="cov.html">Scatter Matrix and Covariance</a></li><li><a class="toctext" href="counts.html">Counting Functions</a></li><li><a class="toctext" href="ranking.html">Rankings and Rank Correlations</a></li><li><a class="toctext" href="sampling.html">Sampling from Population</a></li><li><a class="toctext" href="empirical.html">Empirical Estimation</a></li><li><a class="toctext" href="signalcorr.html">Correlation Analysis of Signals</a></li><li><a class="toctext" href="misc.html">Miscellaneous Functions</a></li><li><a class="toctext" href="statmodels.html">Abstraction for Statistical Models</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="weights.html">Weight Vectors</a></li></ul><a class="edit-page" href="https://github.com/JuliaStats/StatsBase.jl/blob/master/docs/src/weights.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Weight Vectors</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Weight-Vectors-1" href="#Weight-Vectors-1">Weight Vectors</a></h1><p>In statistical applications, it is not uncommon to assign weights to samples. To facilitate the use of weight vectors, we introduce the abstract type <code>AbstractWeights</code> for the purpose of representing weight vectors, which has two advantages:</p><ul><li><p>A different type <code>AbstractWeights</code> distinguishes the role of the weight vector from other data vectors in the input arguments.</p></li><li><p>Statistical functions that utilize weights often need the sum of weights for various purposes. The weight vector maintains the sum of weights, so that it needn&#39;t be computed repeatedly each time the sum of weights is needed.</p></li></ul><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><ul><li><p>The weight vector is a light-weight wrapper of the input vector. The input vector is NOT copied during construction.</p></li><li><p>The weight vector maintains the sum of weights, which is computed upon construction. If the value of the sum is pre-computed, one can supply it as the second argument to the constructor and save the time of computing the sum again.</p></li></ul></div></div><h2><a class="nav-anchor" id="Implementations-1" href="#Implementations-1">Implementations</a></h2><p>Several statistical weight types are provided which subtype <code>AbstractWeights</code>. The choice of weights impacts how bias is corrected in several methods. See the <a href="scalarstats.html#Base.var-Tuple{AbstractArray{T,N} where N where T&lt;:Real,StatsBase.AbstractWeights}"><code>var</code></a>, <a href="scalarstats.html#Base.std-Tuple{AbstractArray{T,N} where N where T&lt;:Real,StatsBase.AbstractWeights}"><code>std</code></a> and <a href="cov.html#Base.cov"><code>cov</code></a> docstrings for more details.</p><h3><a class="nav-anchor" id="AnalyticWeights-1" href="#AnalyticWeights-1"><code>AnalyticWeights</code></a></h3><p>Analytic weights describe a non-random relative importance (usually between 0 and 1) for each observation. These weights may also be referred to as reliability weights, precision weights or inverse variance weights. These are typically used when the observations being weighted are aggregate values (e.g., averages) with differing variances.</p><pre><code class="language-julia">w = AnalyticWeights([0.2, 0.1, 0.3])
w = aweights([0.2, 0.1, 0.3])</code></pre><h3><a class="nav-anchor" id="FrequencyWeights-1" href="#FrequencyWeights-1"><code>FrequencyWeights</code></a></h3><p>Frequency weights describe the number of times (or frequency) each observation was observed. These weights may also be referred to as case weights or repeat weights.</p><pre><code class="language-julia">w = FrequencyWeights([2, 1, 3])
w = fweights([2, 1, 3])</code></pre><h3><a class="nav-anchor" id="ProbabilityWeights-1" href="#ProbabilityWeights-1"><code>ProbabilityWeights</code></a></h3><p>Probability weights represent the inverse of the sampling probability for each observation, providing a correction mechanism for under- or over-sampling certain population groups. These weights may also be referred to as sampling weights.</p><pre><code class="language-julia">w = ProbabilityWeights([0.2, 0.1, 0.3])
w = pweights([0.2, 0.1, 0.3])</code></pre><h3><a class="nav-anchor" id="Weights-1" href="#Weights-1"><code>Weights</code></a></h3><p>The <code>Weights</code> type describes a generic weights vector which does not support all operations possible for <code>FrequencyWeights</code>, <code>AnalyticWeights</code> and <code>ProbabilityWeights</code>.</p><pre><code class="language-julia">w = Weights([1., 2., 3.])
w = weights([1., 2., 3.])</code></pre><h2><a class="nav-anchor" id="Methods-1" href="#Methods-1">Methods</a></h2><p><code>AbstractWeights</code> implements the following methods:</p><pre><code class="language-none">eltype
length
isempty
values
sum</code></pre><p>The following constructors are provided:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.AnalyticWeights" href="#StatsBase.AnalyticWeights"><code>StatsBase.AnalyticWeights</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">AnalyticWeights(vs, wsum=sum(vs))</code></pre><p>Construct an <code>AnalyticWeights</code> vector with weight values <code>vs</code>. A precomputed sum may be provided as <code>wsum</code>.</p><p>Analytic weights describe a non-random relative importance (usually between 0 and 1) for each observation. These weights may also be referred to as reliability weights, precision weights or inverse variance weights. These are typically used when the observations being weighted are aggregate values (e.g., averages) with differing variances.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/weights.jl#L86-L96">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.FrequencyWeights" href="#StatsBase.FrequencyWeights"><code>StatsBase.FrequencyWeights</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">FrequencyWeights(vs, wsum=sum(vs))</code></pre><p>Construct a <code>FrequencyWeights</code> vector with weight values <code>vs</code>. A precomputed sum may be provided as <code>wsum</code>.</p><p>Frequency weights describe the number of times (or frequency) each observation was observed. These weights may also be referred to as case weights or repeat weights.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/weights.jl#L126-L134">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.ProbabilityWeights" href="#StatsBase.ProbabilityWeights"><code>StatsBase.ProbabilityWeights</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">ProbabilityWeights(vs, wsum=sum(vs))</code></pre><p>Construct a <code>ProbabilityWeights</code> vector with weight values <code>vs</code>. A precomputed sum may be provided as <code>wsum</code>.</p><p>Probability weights represent the inverse of the sampling probability for each observation, providing a correction mechanism for under- or over-sampling certain population groups. These weights may also be referred to as sampling weights.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/weights.jl#L163-L172">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.Weights" href="#StatsBase.Weights"><code>StatsBase.Weights</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Weights(vs, wsum=sum(vs))</code></pre><p>Construct a <code>Weights</code> vector with weight values <code>vs</code>. A precomputed sum may be provided as <code>wsum</code>.</p><p>The <code>Weights</code> type describes a generic weights vector which does not support all operations possible for <a href="weights.html#StatsBase.FrequencyWeights"><code>FrequencyWeights</code></a>, <a href="weights.html#StatsBase.AnalyticWeights"><code>AnalyticWeights</code></a> and <a href="weights.html#StatsBase.ProbabilityWeights"><code>ProbabilityWeights</code></a>.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/weights.jl#L52-L61">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.aweights" href="#StatsBase.aweights"><code>StatsBase.aweights</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">aweights(vs)</code></pre><p>Construct an <code>AnalyticWeights</code> vector from array <code>vs</code>. See the documentation for <a href="weights.html#StatsBase.AnalyticWeights"><code>AnalyticWeights</code></a> for more details.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/weights.jl#L98-L103">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.fweights" href="#StatsBase.fweights"><code>StatsBase.fweights</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">fweights(vs)</code></pre><p>Construct a <code>FrequencyWeights</code> vector from a given array. See the documentation for <a href="weights.html#StatsBase.FrequencyWeights"><code>FrequencyWeights</code></a> for more details.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/weights.jl#L136-L141">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.pweights" href="#StatsBase.pweights"><code>StatsBase.pweights</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">pweights(vs)</code></pre><p>Construct a <code>ProbabilityWeights</code> vector from a given array. See the documentation for <a href="weights.html#StatsBase.ProbabilityWeights"><code>ProbabilityWeights</code></a> for more details.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/weights.jl#L174-L179">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="StatsBase.weights" href="#StatsBase.weights"><code>StatsBase.weights</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">weights(vs)</code></pre><p>Construct a <code>Weights</code> vector from array <code>vs</code>. See the documentation for <a href="weights.html#StatsBase.Weights"><code>Weights</code></a> for more details.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/weights.jl#L63-L68">source</a><div><pre><code class="language-none">weights(obj::StatisticalModel)</code></pre><p>Return the weights used in the model.</p></div><a class="source-link" target="_blank" href="https://github.com/JuliaStats/StatsBase.jl/blob/88b481809cf3a4b4e381be37f4372122c2d7c361/src/statmodels.jl#L134-L138">source</a></section><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">StatsBase.jl Documentation</span></a><a class="next" href="means.html"><span class="direction">Next</span><span class="title">Mean Functions</span></a></footer></article></body></html>
